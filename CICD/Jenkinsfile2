import groovy.json.JsonSlurper

node(label: 'master'){
    def branches = ["r1.0", "r1.1"]
    def builders = [:]
    def image_tag ="$BUILD_TAG".toLowerCase()
    def docker_parsed_path = "/data/fastestimator_web"
    def local_parsed_path = "/home/ubuntu/fastestimator_web"
    def asset_path = "src/assets/branches"

    stage("read json"){
        checkout scm
        def file_content = readFile encoding: 'utf-8', file: 'CICD/branches.json'
        echo "$file_content"
        def InputJSON = new JsonSlurper().parseText(file_content)
        println InputJSON
        println InputJSON.getClass()
        println InputJSON[0]
        println InputJSON[0].getClass()
        println InputJSON[0].name
        println InputJSON[0].name.getClass()
        // InputJSON.each{ println it }
    }
}